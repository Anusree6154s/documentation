<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: "en" }}">

  {%- include head.html -%}

  <body>

    {%- include header.html -%}

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        {{ content }}
      </div>
    </main>

    {%- include footer.html -%}

    <script>
      SimpleJekyllSearch({
        searchInput: document.getElementById('search-input'),
        resultsContainer: document.getElementById('results-container'),
        json: '{{ "/search.json" | relative_url }}',
        searchResultTemplate: '<li class="search-list"><a href="{url}">{title}</a></li>',
        noResultsText: '<li class="search-list">No results found</li>',
        limit: 5
      });
      
       document.addEventListener('DOMContentLoaded', () => {
    const apiUrl = 'https://documentation-backend-pi.vercel.app';
    const pageUrl = window.location.href;

    fetch(apiUrl, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ url: pageUrl })
    })
    .then(response => response.json())
    .then(data => {
      const countEl = document.getElementById('visitor-count');
      if (countEl) {
        countEl.textContent = `${data.count}`;
      }
    })
    .catch(error => console.error('Error updating visitor count:', error));
  });
    </script>

  </body>

</html>
